import{_ as I,o as M,r as k,a as x,c as S,b as e,d as _,e as T,w as U,f as v,v as f,u as y,i as w,p as B,g as C}from"./index-B2GLxFZ0.js";const l=a=>(B("data-v-63d55135"),a=a(),C(),a),N={id:"formWrapper"},V={id:"form",class:"scallop"},z={id:"innerForm"},A=l(()=>e("h1",null,"Authorization",-1)),E=l(()=>e("p",{id:"invalidAuthorizationMessage",class:"errorMessage"},"Invalid username or password! Try again!",-1)),P={class:"wrapperInput"},F=l(()=>e("p",{id:"usernameMessage",class:"errorMessage"},"Field username can't be empty!",-1)),L={class:"wrapperInput"},D=l(()=>e("p",{id:"passwordMessage",class:"errorMessage"},"Field password can't be empty!",-1)),O={__name:"Login",setup(a){let i,n,p,u,r;M(()=>{p=document.getElementById("usernameMessage"),u=document.getElementById("passwordMessage"),r=document.getElementById("invalidAuthorizationMessage")});function m(){return r.style.visibility="hidden",i===""||i===void 0?(p.style.visibility="visible",!1):(p.style.visibility="hidden",!0)}function h(){return r.style.visibility="hidden",n===""||n===void 0?(u.style.visibility="visible",!1):(u.style.visibility="hidden",!0)}function b(o){m()&h()&&(g("Login",i,2),g("Password",n,2),fetch("http://localhost:8080/api-signIn",{method:"POST",headers:{"Content-Type":"application/json",credentials:"include"},body:JSON.stringify({username:i,password:n})}).then(s=>{s.ok?o.push("/main"):r.style.visibility="visible"}))}function g(o,s,d){let t="";if(d){let c=new Date;c.setTime(c.getTime()+d*24*60*60*1e3),t="; expires="+c.toUTCString()}document.cookie=o+"="+(s||"")+t+"; path=/"}return(o,s)=>{const d=k("router-link");return x(),S("div",N,[e("div",V,[e("div",z,[A,e("span",null,[_(" New? "),T(d,{to:"/signUp"},{default:U(()=>[_("Sign Up")]),_:1})]),E,e("div",P,[v(e("input",{id:"username","onUpdate:modelValue":s[0]||(s[0]=t=>w(i)?i.value=t:i=t),onInput:m,type:"text",placeholder:"Username",maxlength:"20"},null,544),[[f,y(i)]]),F]),e("div",L,[v(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=t=>w(n)?n.value=t:n=t),onInput:h,type:"password",placeholder:"Password",maxlength:"20"},null,544),[[f,y(n)]]),D]),e("button",{onClick:s[2]||(s[2]=t=>b(o.$router))},"Sign In")])])])}}},J=I(O,[["__scopeId","data-v-63d55135"]]);export{J as default};
